<!DOCTYPE html>
<html>
    <head>
        <title>Brute forcing Feynman diagrams: Combinations and symmetry factors</title>
        <script>
            MathJax = {
                tex: {
                inlineMath: [['$', '$']]
                }
            };
	   </script>
	   <script id="MathJax-script" async
		  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
	   </script>
	   <link rel="stylesheet" href="../GarciaStyles.css">
    </head>
    <body>
		<div class="InnerBody">
			<!------------------------------>
			<!----------- Header ----------->
			<!------------------------------>
			<hr>
			<h1 class="liner">Fernando Garcia</h1>
			
			<h4>
					<a href="../index.html" style="color: black; text-decoration: none;">
						Home
					</a>
					&nbsp; &nbsp;
					<a href="../Research.html" style="color: black; text-decoration: none;">
						Research
					</a>
					&nbsp; &nbsp;
					<a href="../Blog.html" style="color: black; text-decoration: none;">
						Blog
					</a>
					&nbsp; &nbsp;
					<a href="../Other.html" style="color: black; text-decoration: none;">
						Other
					</a>
					&nbsp; &nbsp;
					<a href="../AboutMe.html" style="color: black; text-decoration: none;">
						About me
					</a>
			</h4>
			
			<hr>
			
			
			<!------------------------------->
			<!----------- Content ----------->
			<!------------------------------->
			
			
			
			
			<h2 style="text-align:center;">Brute forcing Feynman diagrams: Combinations and symmetry factors</h2>
			<p style="text-align:center;">July XXXth, 2024.</p>



<h4>Introduction</h4>

<p>Feynman diagrams are such an important concept (and tool!) that even many of those who have never worked with Quantum Field Theory know about their existence.</p>

<p>To recapitulate, Feynman diagrams appear from expanding a theory into a series (to be precise, from expanding the interacting partition function into a series). They are a visual representation of a given term in the expansion.</p>

<p>These connection between terms of a series and the diagrams allows us to classify them by the amount of external points (sources) $E $, vertices $V $, and propagators (curve segment) $P $. </p>

 <p>This blog post will focus on $\phi ^3  $ theory, where $E $, $V $, and $P $ are related by</p>
 
 \[E=2P-3V \]
 
 <p>Things start  to get a bit out of control when we realize that for a given $P $ and $V $, there are many, many terms in the expansion. It is then relevant to realize how many terms in the expansion give the <i>same</i> Feynman diagram.</p>
 
 <p>This is known as the symmetry factor. It can be calculated quickly and easily for simple diagrams, but sometimes counting gets complicated or tedious. Let's explore a brute-force way get this number.</p>
 
 <p>In $\phi ^3  $ theory, $Z_1 (J) $ takes the form (see Srednicki)</p>
 
 \[Z_1 (J)\propto \sum_{V=0}^{\infty } \frac{1}{V!} \left[ \frac{iZ_gg}{6} \int d^4 x  \left( \frac{1}{i}\frac{\delta }{\delta J(x)} \right) ^3  \right] ^{V} \times \sum_{P=0}^{\infty } \frac{1}{P!} \left[ \frac{i}{2}\int d^4 yd^4 z J(y)\Delta (y-z)J(z) \right] ^{p} \]
 
 <p>Warning: This method is by no means ideal/fast. The purpose of this post is to show how all the numbers are connected.</p>


<!------------------------------->
<!------------------------------->
<!------------------------------->


<h4>Terms with $E=0 $, $V=2 $ (therefore $P=3 $).</h4>

<p>If we have two vertices, each has to have 3 lines coming in/out of it, and there are 3 lines to place on the diagram, it is clear that there are only two possible Feynman diagrams:</p>

<img src="09/01.PNG" class="centerImg" style="width: 30%;">

<p>We start by noting that the term with $V=2 $ and $P=3 $ (in $Z_1  $) gives a numerical factor of</p>

\[\frac{1}{2^P 6^V(V!)(P!)}\Big|_{V=2,P=3} =\frac{1}{3456} \]

<p>This number will be important in a second. Now notice that we have 6 functional derivatives (with respect to sources $J(x) $) acting on a product of 6 sources. Carrying out the product rule will yield</p>

\[6!=720\;\text{terms}  \]

<p>That is, there are 720 diagrams to be considered. Are they all different? How many are the same? As speculated above, we hope to get only 2 diagrams.</p>

<p>To keep track of variables, let's use the following variables:</p>

\[\frac{1}{3456}\int 
d^4xd^4 w  
d^4 y_1 d^4 y_2 d^4 y_3  d^4 z_1 d^4 z_2 d^4 z_3
\left( \frac{1}{i}\frac{\delta }{\delta J(x)} \right) ^3 \left( \frac{1}{i}\frac{\delta }{\delta J(w)} \right) ^3   
J(y_1)\Delta (y_1-z_1)J(z_1)
J(y_2)\Delta (y_2-z_2)J(z_2)
J(y_3)\Delta (y_3-z_3)J(z_3) \]

<p>So we will have a product of three propagators $\Delta (y_1-z_1) \Delta (y_2-z_2) \Delta (y_3-z_3)$ times 720 terms. Each one of the terms is of the form</p>

\[\delta (x-\;\;)\delta (x-\;\;)\delta (x-\;\;)\delta (w-\;\;)\delta (w-\;\;)\delta (w-\;\;) \]

<p>Where the spaces are to be filled with (once each) $y_1 ,y_2 ,y_3 ,z_1 ,z_2 ,z_3  $. For instance:</p>

\[\Delta (y_1-z_1) \Delta (y_2-z_2) \Delta (y_3-z_3)\bigg(\delta (x-y_1 )\delta (x-y_2 )\delta (x-y_3 )\delta (w-z_1 )\delta (w-z_2 )\delta (w-z_3 )+\text{the other 719 terms} \bigg) \]

<p>It is clear that we can compute the six $\int  d^4 y_1 d^4 y_2 d^4 y_3  d^4 z_1 d^4 z_2 d^4 z_3 $ integrals, which will turn the 3 propagatos into propagators in terms of $x $s and $w $s.</p>

<p>There are only two possible cases, we end up (after computing the integrals over the deltas) with $\Delta (x-w)^3  $, or $\Delta (0)^2 \Delta (x-y) $. Notice how there is simply no way to get $\Delta (0)^3  $ out of the available variables, the same goes for $\Delta (0)\Delta (x-w)^2  $.</p>

<p>For the case $\Delta (x-w)^3  $, let's see how many terms we have (out of the 720). There are 6 ways to place a given $y_i  $ among the <b>6</b> half-filled deltas. If we picked one with an $x $, then we must place $z_i  $ in one of the <b>3</b> deltas with $w $ (and vice versa).</p>

<p>Now pick $y_j $ for $i\neq j $. There are <b>4</b> half-filled deltas to pick. This forces us to place $z_j $ in one of the remaining <b>2</b> deltas with the opposite $x/w $ variable.</p>

<p>Finally, we can place $y_k $ for $i\neq j \neq k $ in either of the <b>2</b> remaining deltas, and the last $z_k $ variable gets placed in the remaining delta with opposite variable.</p>

<p>In total, we have</p>

\[6\times 3\times 4\times 2\times 2=288\;\text{terms}  \]

<p>They all, of course, represent the same diagram:</p>

<img src="09/02.PNG" class="centerImg" style="width: 25%;">

<p>We are pretty sure that there should only be an additional diagram, corresponding to terms of the form $\Delta (x-y)\Delta (0)^2  $. We could right away say that there are $720-288=432 $ such terms. Instead, let's work out the combinations and see that it is truly 432 (and we can finally confirm that there are 2 two diagrams, since we would then have 720 worked out terms).</p>

<p>We can place $y_i  $ in any of the deltas: <b>6</b>.</p>

<p>To induce a $\Delta (0) $, we place another $y_j $ in any of the two remaining deltas with the same variable: <b>2</b>.</p>

<p>To induce another $\Delta (0) $, we place any of the $z_i $ in any of the 3 deltas with the other variable: <b>9</b> ways.</p>

<p>The $\Delta (0) $ happens once we place yet another $z_j  $ in any of the two remaining deltas with the other variable: <b>2</b> ways.</p>

<p>There are <b>2</b> ways to place the remaining $y_k,z_k $ in the two last deltas. We see that:</p>
\[6\times 2\times 9\times 2\times 2=432 \;\text{terms} \]
<p>As expected. Those terms represent the diagram:</p>

<img src="09/03.PNG" class="centerImg" style="width: 25%;">



<!------------------------------->
<!------------------------------->
<!------------------------------->

<h4>Contributions and symmetry factors</h4>

<p>We must not forget that we still have the $\int d^4 xd^4 w $ integrals over the above expressions. Furthermore, the numerical factor of $1/3456 $ combines with the amount of terms for the same diagram to give the proper symmetry factor:</p>

\begin{align*}
	\frac{1}{3456}\cdot 288 &= \frac{1}{\color{red}12\color{black}} \\
	\frac{1}{3456}\cdot 432 &= \frac{1}{\color{red}8\color{black}} 
\end{align*}
 
<p>In this post we are not interested in computing corrections or observables, but if we want to, we must also remember the factors of $g $, $Z_g $, and any other constants in the expansion of the path integral.</p>

<p>It is also relevant to note that we got the exact same expressions as if we had followed the rules of adding $\frac{1}{i}\Delta (x-y)  $ per propagator, and $iZ_gg\int d^4 x $ per vertex. </p>
<!------------------------------->
<!------------------------------->
<!------------------------------->


<h4>Terms with $E=1 $, $V=1 $ (therefore $P=2 $).</h4>

<p>It is clear that there is only one diagram for this scenario:</p>


<img src="09/04.PNG" class="centerImg" style="width: 25%;">


<p>Where the black filled dot is now representing a source/external point.</p>

<p>We get a numerical factor of</p>

\[\frac{1}{2^P 6^V(V!)(P!)}\Big|_{V=1,P=2} =\frac{1}{48} \]

<p>in the expansion, as well as the integral (again, brushing off the factors of $i,g,Z_g $, and the numerical factor of $1/48 $ for now):</p>

\[\int 
d^4 x
d^4 y_1 d^4 y_2 
d^4 z_1 
d^4 z_2 
\frac{\delta }{\delta J(x)}
\frac{\delta }{\delta J(x)}
\frac{\delta }{\delta J(x)}
J(y_1)\Delta (y_1-z_1)J(z_1)
J(y_2)\Delta (y_2-z_2)J(z_2) \]

<p>Which, when acting with the functional derivatives, we find:</p>
\[\int 
d^4 x
d^4 y_1 d^4 y_2 
d^4 z_1 
d^4 z_2 
\;
\Delta (y_1-z_1)
\Delta (y_2-z_2)
 \bigg( \text{terms of the form} \;\; 
J(\;\;)\delta (x-\;\;)\delta (x-\;\;)\delta (x-\;\;) \bigg)  \]

<p>The first question is: how many terms are there? A careful analysis shows that we get $4\times 3\times 2=24 $ terms. It is also to see that they are all of the same form. Either the two $y $s will get placed in $\delta  $s and the $z $s one in a delta and one inside the source $J $, or vice versa.</p>

<p>After computing the $d^4 y_1 d^4 y_2 d^4 z_1 d^4 z_2  $ integrals, we find:</p>

\[\int d^4 xd^4 y_1 J(y_1 )\Delta (y_1 -x)\Delta (0) \]

<p>Which is what the rules (times constant factors) dictate (for each source, add the integral $i \int d^4 y J(y) $).</p>

<p>Since we only have 1 diagram and 24 terms, we invoke the numerical factor of $1/48 $ to see that the symmetry factor of the diagram is:</p>

\[\frac{1}{48}\cdot 24 = \frac{1}{\color{red}2\color{black}} \]

<p>As expected.</p>



<!------------------------------->
<!------------------------------->
<!------------------------------->
<h4>Final remarks and conclusion</h4>

<p>It is clear that Feynman diagrams are based on solid ground. The above analysis can get complicated even for the simplest of conditions ($P,V $). More than a tool, doing the above is instructive while studying Quantum Field Theory. It is one of those things you do once and never come back to it, but the implications stay with you for the rest of your life.</p>

<p>I think turning this into a computer program shouldn't be too complicated. By coding the rules of functional differentiation, one could possibly avoid having to do a combinatorics-heavy analysis.</p>

<img src="09/05.PNG" class="centerImg" style="width: 25%;">


<p>


<!------------------------------->
<!------------------------------->
<!------------------------------->
<h4></h4>

<!------------------------------->
<!------------------------------->
<!------------------------------->

<br>
			<a href="../Blog.html" style="color: black; "><h4>Back to Blogs</h4></a>
		</div>
    </body>
</html>











